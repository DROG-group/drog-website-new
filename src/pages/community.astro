---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Community" description="Join the DROG community and help fight disinformation">
  <!-- Hero Section -->
  <section class="page-hero">
    <div class="container">
      <span class="section-label">Join Us</span>
      <h1>Join Our Community of Disinformation Fighters</h1>
      <p class="hero-subtitle">Whether you're a Practitioner, Scientist, Donor, Artist, or Creative Tech - there's a place for you in the DROG community.</p>
    </div>
  </section>

  <!-- Roles Section -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <span class="section-label">Get Involved</span>
        <h2 class="section-title">Find Your Role</h2>
        <p class="section-description">Everyone has a part to play in fighting disinformation</p>
      </div>
      <div class="roles-grid">
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              </svg>
              <span class="flip-label">Practitioners</span>
            </div>
            <div class="flip-card-back">
              <h3>Practitioners</h3>
              <p>Professionals working on the front lines of counter-disinformation.</p>
              <a href="/contact" class="btn btn-primary btn-sm">I want to help</a>
            </div>
          </div>
        </div>
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M6 18h8M3 22h18M14 22a7 7 0 1 0 0-14h-1M9 14h2M9 8h2M10 18V6a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v12"/>
              </svg>
              <span class="flip-label">Scientists</span>
            </div>
            <div class="flip-card-back">
              <h3>Scientists</h3>
              <p>Researchers and academics studying disinformation.</p>
              <a href="/contact" class="btn btn-primary btn-sm">I have a tech transfer</a>
            </div>
          </div>
        </div>
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
              </svg>
              <span class="flip-label">Donors</span>
            </div>
            <div class="flip-card-back">
              <h3>Donors</h3>
              <p>Funders and investors supporting counter-disinformation initiatives.</p>
              <a href="/contact" class="btn btn-primary btn-sm">Can I invest?</a>
            </div>
          </div>
        </div>
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="13.5" cy="6.5" r="0.5"/>
                <circle cx="17.5" cy="10.5" r="0.5"/>
                <circle cx="8.5" cy="7.5" r="0.5"/>
                <circle cx="6.5" cy="12.5" r="0.5"/>
                <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.555C21.965 6.012 17.461 2 12 2z"/>
              </svg>
              <span class="flip-label">Artists</span>
            </div>
            <div class="flip-card-back">
              <h3>Artists</h3>
              <p>Creative minds bringing counter-disinformation messages to life.</p>
              <a href="/contact" class="btn btn-primary btn-sm">I want to create</a>
            </div>
          </div>
        </div>
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <polyline points="16 18 22 12 16 6"/>
                <polyline points="8 6 2 12 8 18"/>
              </svg>
              <span class="flip-label">Creative Techs</span>
            </div>
            <div class="flip-card-back">
              <h3>Creative Techs</h3>
              <p>Developers and technologists building tools to counter disinformation.</p>
              <a href="/contact" class="btn btn-primary btn-sm">Can I join?</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section class="section section-gray">
    <div class="container">
      <div class="section-header">
        <span class="section-label">Benefits</span>
        <h2 class="section-title">Why Join?</h2>
        <p class="section-description">Benefits of being part of the DROG community</p>
      </div>
      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="benefit-number"><span class="counter" data-target="100">0</span>+</div>
          <h3>Network</h3>
          <p>Connect with professionals across Europe fighting disinformation.</p>
        </div>
        <div class="benefit-card">
          <div class="benefit-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
              <polyline points="14 2 14 8 20 8"/>
              <line x1="16" y1="13" x2="8" y2="13"/>
              <line x1="16" y1="17" x2="8" y2="17"/>
            </svg>
          </div>
          <h3>Resources</h3>
          <p>Access research, tools, and frameworks developed by the community.</p>
        </div>
        <div class="benefit-card">
          <div class="benefit-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
              <line x1="9" y1="9" x2="9.01" y2="9"/>
              <line x1="15" y1="9" x2="15.01" y2="9"/>
            </svg>
          </div>
          <h3>Opportunities</h3>
          <p>Find projects, gigs, and funding opportunities in the counter-disinformation space.</p>
        </div>
        <div class="benefit-card">
          <div class="benefit-number"><span class="counter" data-target="30">0</span>M+</div>
          <h3>Impact</h3>
          <p>Be part of initiatives that have reached citizens across Europe.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Members Directory Section -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <span class="section-label">Directory</span>
        <h2 class="section-title">Community Members</h2>
        <p class="section-description">Meet the people fighting disinformation</p>
      </div>

      <div class="members-grid">
        <div class="member-card">
          <div class="member-header">
            <div class="member-avatar">RO</div>
            <div class="member-info">
              <h4>Dr. Ruurd Oosterwoud</h4>
              <span class="member-role">Practitioner</span>
              <p class="member-org">DROG Group</p>
            </div>
          </div>
          <p class="member-bio">Founder of DROG and pioneer of inoculation-based counter-disinformation interventions in Europe.</p>
          <div class="member-tags">
            <span class="tag">Prebunking</span>
            <span class="tag">Inoculation Theory</span>
            <span class="tag">Policy</span>
          </div>
        </div>

        <div class="member-card">
          <div class="member-header">
            <div class="member-avatar">SL</div>
            <div class="member-info">
              <h4>Dr. Sander van der Linden</h4>
              <span class="member-role">Scientist</span>
              <p class="member-org">Cambridge University</p>
            </div>
          </div>
          <p class="member-bio">Social psychologist specializing in misinformation, conspiracy theories, and inoculation research.</p>
          <div class="member-tags">
            <span class="tag">Psychology</span>
            <span class="tag">Inoculation Theory</span>
            <span class="tag">Research</span>
          </div>
        </div>

        <div class="member-card">
          <div class="member-header">
            <div class="member-avatar">JR</div>
            <div class="member-info">
              <h4>Jon Roozenbeek</h4>
              <span class="member-role">Scientist</span>
              <p class="member-org">Cambridge University</p>
            </div>
          </div>
          <p class="member-bio">Co-developer of Bad News and Harmony Square games, researching psychological inoculation against misinformation.</p>
          <div class="member-tags">
            <span class="tag">Game Design</span>
            <span class="tag">Prebunking</span>
            <span class="tag">Research</span>
          </div>
        </div>

        <div class="member-card">
          <div class="member-header">
            <div class="member-avatar">MH</div>
            <div class="member-info">
              <h4>Maria van Hoorn</h4>
              <span class="member-role">Artist</span>
              <p class="member-org">Studio Interactivist</p>
            </div>
          </div>
          <p class="member-bio">Visual artist and game designer creating interactive experiences to combat disinformation.</p>
          <div class="member-tags">
            <span class="tag">Game Design</span>
            <span class="tag">Visual Arts</span>
            <span class="tag">UX</span>
          </div>
        </div>

        <div class="member-card">
          <div class="member-header">
            <div class="member-avatar">TD</div>
            <div class="member-info">
              <h4>Thomas Dekker</h4>
              <span class="member-role">Creative Tech</span>
              <p class="member-org">Freelance</p>
            </div>
          </div>
          <p class="member-bio">Full-stack developer building tools and platforms for counter-disinformation initiatives.</p>
          <div class="member-tags">
            <span class="tag">Web Development</span>
            <span class="tag">Data Viz</span>
            <span class="tag">API Design</span>
          </div>
        </div>

        <div class="member-card">
          <div class="member-header">
            <div class="member-avatar">AS</div>
            <div class="member-info">
              <h4>Anna Schmidt</h4>
              <span class="member-role">Donor</span>
              <p class="member-org">European Democracy Fund</p>
            </div>
          </div>
          <p class="member-bio">Program officer focused on funding media literacy and counter-disinformation projects.</p>
          <div class="member-tags">
            <span class="tag">Grantmaking</span>
            <span class="tag">Impact Assessment</span>
            <span class="tag">Strategy</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="section section-cta">
    <div class="container">
      <h2>Ready to Join?</h2>
      <p>Get in touch and become part of the community today.</p>
      <a href="/contact" class="btn btn-primary">Contact Us</a>
    </div>
  </section>
</Layout>

<style>
  .page-hero {
    padding: 10rem 0 4rem;
    background: linear-gradient(-45deg, #f59e0b, #d97706, #fbbf24, #f59e0b);
    background-size: 400% 400%;
    animation: gradient-shift 15s ease infinite;
    text-align: center;
    color: var(--white);
  }

  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .page-hero .section-label {
    color: rgba(255, 255, 255, 0.8);
  }

  .page-hero h1 {
    font-size: 2.5rem;
    font-weight: 700;
    max-width: 800px;
    margin: 0 auto 1.5rem;
    line-height: 1.2;
  }

  .hero-subtitle {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.85);
    max-width: 600px;
    margin: 0 auto;
  }

  .section-gray {
    background: var(--gray-50);
  }

  /* Roles Grid - Flip Cards */
  .roles-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  @media (max-width: 968px) {
    .roles-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 640px) {
    .roles-grid {
      grid-template-columns: 1fr;
    }
  }

  .flip-card {
    background: transparent;
    width: 100%;
    height: 220px;
    perspective: 1000px;
  }

  .flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.8s;
    transform-style: preserve-3d;
  }

  .flip-card:hover .flip-card-inner {
    transform: rotateY(180deg);
  }

  .flip-card-front,
  .flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    border-radius: 16px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1.5rem;
  }

  .flip-card-front {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
    color: var(--white);
  }

  .flip-card-front svg {
    margin-bottom: 1rem;
    opacity: 0.9;
  }

  .flip-label {
    font-size: 1.125rem;
    font-weight: 600;
    text-align: center;
  }

  .flip-card-back {
    background: var(--white);
    color: var(--gray-900);
    transform: rotateY(180deg);
    box-shadow: var(--shadow-xl);
    text-align: center;
  }

  .flip-card-back h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--gray-900);
    margin-bottom: 0.5rem;
  }

  .flip-card-back p {
    color: var(--gray-600);
    line-height: 1.5;
    font-size: 0.875rem;
    margin-bottom: 1rem;
  }

  .btn-sm {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }

  /* Benefits Grid */
  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
  }

  @media (max-width: 968px) {
    .benefits-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 480px) {
    .benefits-grid {
      grid-template-columns: 1fr;
    }
  }

  .benefit-card {
    background: var(--white);
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 2rem;
    text-align: center;
  }

  .benefit-number {
    font-family: var(--font-mono);
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 1rem;
  }

  .benefit-icon {
    color: var(--primary);
    margin-bottom: 1rem;
  }

  .benefit-card h3 {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--gray-900);
  }

  .benefit-card p {
    font-size: 0.9rem;
    color: var(--gray-600);
    line-height: 1.6;
  }

  /* Members Grid */
  .members-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }

  @media (max-width: 968px) {
    .members-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 640px) {
    .members-grid {
      grid-template-columns: 1fr;
    }
  }

  .member-card {
    background: var(--white);
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
  }

  .member-header {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .member-avatar {
    width: 48px;
    height: 48px;
    background: var(--gray-900);
    color: var(--white);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-mono);
    font-size: 0.875rem;
    font-weight: 700;
    flex-shrink: 0;
  }

  .member-info h4 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--gray-900);
    margin-bottom: 0.25rem;
  }

  .member-role {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .member-org {
    font-size: 0.875rem;
    color: var(--gray-500);
  }

  .member-bio {
    font-size: 0.875rem;
    color: var(--gray-600);
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  .member-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .tag {
    font-size: 0.75rem;
    background: var(--gray-100);
    color: var(--gray-700);
    padding: 0.25rem 0.75rem;
    border-radius: 100px;
  }

  /* CTA Section */
  .section-cta {
    background: var(--gray-900);
    color: var(--white);
    text-align: center;
  }

  .section-cta h2 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .section-cta p {
    color: var(--gray-400);
    margin-bottom: 2rem;
  }
</style>

<script>
  // Animated counter function
  function animateCounter(element: HTMLElement) {
    const target = parseInt(element.dataset.target || '0', 10);
    const duration = 2000;
    const start = 0;
    const startTime = performance.now();

    function update(currentTime: number) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const easeOutQuart = 1 - Math.pow(1 - progress, 4);
      const current = Math.floor(easeOutQuart * (target - start) + start);
      element.textContent = current.toString();
      if (progress < 1) {
        requestAnimationFrame(update);
      } else {
        element.textContent = target.toString();
      }
    }
    requestAnimationFrame(update);
  }

  const counters = document.querySelectorAll('.counter');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        animateCounter(entry.target as HTMLElement);
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.5 });

  counters.forEach(counter => observer.observe(counter));
</script>
